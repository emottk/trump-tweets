require 'rails_helper'

really_negative_ids = [939485131693322240,935874566701842434,935844881825763328,933280234220134401,933282274937733126,932570628451954688,932388590344196096,932303108146892801,917734186848579584,917026789188399105,917029060471152640]
regular_negative_ids = [944665687292817415,944222157218942978,944210183089254400,943856675294982145,943819430735372289,943489378462130176,942717030091943936,940930017365778432,939967625362276354,939480342779580416,937305615218696193,937301085156503552,937279001684598784,937145025359761408,937142713211813889,937141061343956992,936260193536573440,936206961728786432,936058006659321858,936037588372283392,
                935838073618870272,935701139198181376,935513049729028096,935489831005810688,935150368207654912,935147410472480769,934896989539586054,934781939088629761,934189999045693441,933837062293291008,933285973277868032,932392209445457920]
borderline_negative_ids = [944247868126318593,943824695144697857,939149296389251072,937309279257792512]
negative_ids = [really_negative_ids, regular_negative_ids, borderline_negative_ids].flatten.uniq



presidential_ids = [935506217392267265,935393413804965888,935147767726448640,935340092583006208,934961858380955648,934507210385829888,934080974773776384,934031535757582336,933921775984967681,933831194558582784,933720598383026176,933692459351265280,933662564587855877,933658521828315136,933517194142584833,933446283632824321,932578255810498560,932433668068528131,932397369655808001,928064591665467393,938756989542457344,927265906086031363,926238774773862400,923277142271684609,922603042796654592,921483820288921601,920966294035451904,920425069964349445,947536951464333318,948739073237311488,948189482284707840,947824196909961216,945437479863291904,943842608631238656,943213901625294849,942721681130483712,941291666564141057,941094961482780672,939521466634326016,939355447273906182,939120304542101505,938861758038577152,938786402992578560,938440878577856512,936941673124425728,936219599422574592,936005585019002887,935881037254725632,935713791765110785,949066181381632001]

tough_positives = [940795587733151744]
tough_negatives = [943135588496093190,936551346299338752]

RSpec.describe Tweet, type: :model do
  describe '#decision' do
    context 'with negative content' do
       let!(:negative_tweets) {negative_ids.map {|id| Tweet.find_by(twitter_id: id)}}
      it 'determines that sentiment is negative' do
        negative_tweets.each do |tweet|
          expect(tweet.negative?).to be_truthy, "Expected to be labeled negative:\n#{tweet.content}\nScore: #{tweet.sentiment_score}\nRatio: #{tweet.reply_to_retweet_ratio}\nReplies: #{tweet.reply_count}"
        end
      end
    end
    context 'with presidential content' do
       let!(:presidential_tweets) {presidential_ids.map {|id| Tweet.find_by(twitter_id: id)}}
      it 'determines that sentiment is negative' do
        presidential_tweets.each do |tweet|
          expect(tweet.negative?).to be_falsey, "Expected to be labeled presidential:\n#{tweet.content}\nScore: #{tweet.sentiment_score}\nRatio: #{tweet.reply_to_retweet_ratio}\nReplies: #{tweet.reply_count}"
        end
      end
    end
  end
end
